import{r as i,j as e,h as o,i as u,T as h,L as p}from"./index-5kKwVPBw.js";import{B as n}from"./Button-ClSH_scI.js";import{C as f}from"./Counter-BD-pG0u6.js";import{u as j}from"./useCartActions-da3_bXKG.js";import{P as g}from"./PageWrapper-BCY5xxNC.js";const N=({item:t})=>{const[r,a]=i.useState(t.quantity),{price:l,discount:s,quantity:x,id:c}=t,{removeCartItem:d}=j(),m=s?Math.round(l-l*s):l;return e.jsxs("div",{className:"w-[290px] xxs:w-[350px] xsSm:w-auto xsSm:h-[240px] md:h-[180px] flex flex-col xsSm:flex-row gap-4 border border-divider rounded-xl",children:[e.jsx("div",{className:"cart-list-item__img flexitems-center justify-center h-full xsSm:min-w-[200px] border-r border-divider",children:e.jsx("img",{className:"object-cover h-full w-full aspect-square rounded-l-xl rounded-r-xl xsSm:rounded-r-none",src:t.img,alt:t.name})}),e.jsxs("div",{className:"cart-list-item__info flex flex-col w-full p-6 gap-6",children:[e.jsxs("div",{className:"flex items-center justify-between -mt-2 xsSm:mt-0",children:[e.jsx("h1",{className:"text-[20px]",children:t.name}),e.jsx("button",{onClick:()=>d(t),className:"remove p-2 rounded-full duration-300 hover:bg-hoverLightGray",children:e.jsxs("div",{className:"relative h-6 w-6",children:[e.jsx("span",{className:"absolute top-1/2 -translate-y-1/2 left-0 rotate-45 h-[2px] w-full bg-black"}),e.jsx("span",{className:"absolute top-1/2 -translate-y-1/2 left-0 -rotate-45 w-full h-[2px] bg-black"})]})})]}),e.jsxs("div",{className:"flex flex-col md:flex-row justify-between xl:justify-normal gap-6",children:[e.jsx("div",{className:"w-[230px]",children:e.jsx(f,{id:c,value:r,setValue:a})}),e.jsxs("div",{className:`flex ${s?"pr-[55px] xl:pr-0":""} items-center gap-4`,children:[e.jsxs("h2",{className:"font-bold text-[30px] lg:text-[40px] pt-1",children:["$",m*x]}),s&&e.jsxs("h4",{className:"relative text-[20px] text-gray line-through mt-4",children:["$",l*x,e.jsx("div",{className:"absolute font-semibold text-[14px] p-1 px-2 rounded-md bg-green text-white right-[-55px] top-[-10px]",children:`-${s*100}%`})]})]})]})]})]})},v=({list:t})=>{const[r,a]=i.useState(!1),{items:l}=t;return e.jsxs(e.Fragment,{children:[e.jsx("ul",{className:`cart-list duration-300 flex flex-col ${r?"h-auto":"h-[545px] xxs:h-[606px] xsSm:h-[753px] md:h-[573px]"} overflow-hidden gap-4`,children:l.map(s=>e.jsx("li",{className:"cart-list-item flex justify-center items-center xsSm:block",children:e.jsx(N,{item:s})},s.id))}),e.jsx("div",{className:`flex items-center justify-center mt-2 ${l.length>3?"xsSm:flex":l.length>1?"flex xsSm:hidden":"hidden"}`,children:e.jsx(n,{onClick:()=>a(s=>!s),isGreen:!0,text:`${r?"Show less":"Show more"}`})})]})},b=()=>({store:o(r=>r.cart)}),w=()=>{var a;const t=o(l=>l.cart);return{total:(a=t==null?void 0:t.items)==null?void 0:a.reduce((l,s)=>{const x=s.discount?Math.round(s.price-s.price*s.discount):s.price;return l+x*s.quantity},0)}},y=()=>{const{store:t}=b(),{quantity:r}=u(),{total:a}=w();return e.jsxs("section",{className:"cart flex flex-col gap-10",children:[e.jsx(h,{text:"Shopping cart",buttonText:"Back to the store"}),t.value>0?e.jsxs("div",{className:"cart-content flex flex-col xl:flex-row gap-8",children:[e.jsx("div",{className:"xl:w-[60%]",children:e.jsx(v,{list:t})}),e.jsxs("div",{className:"bg-lightGray h-full rounded-xl xl:w-[40%] p-7",children:[e.jsx("h3",{className:"font-bold text-4xl",children:"Order details"}),e.jsxs("div",{className:"pt-4 gap-6 flex flex-col xs:flex-row justify-between",children:[e.jsx("div",{className:"w-full xs:w-1/2",children:e.jsxs("h4",{className:"text-gray text-2xl sm:text-4xl leading-[3rem]",children:[r," items total"]})}),e.jsx("div",{className:"flex self-end items-end",children:e.jsxs("h2",{className:"font-bold text-[37px] lg:text-[46px] break-all",children:["$",a]})})]}),e.jsx("div",{className:"cart-button h-full flex mt-6",children:e.jsx(n,{text:"Order",extraClassName:"w-full self-end",isGreen:!0})})]})]}):e.jsxs("div",{className:"-mt-4",children:[e.jsx("p",{children:"Looks like you have no items in your basket currently."}),e.jsx(p,{to:"/all-products?from=&to=&discount=&sortBy=default&category=All+products",children:e.jsx(n,{extraClassName:"mt-5 w-full xs:w-auto",isGreen:!0,text:"Continue Shopping"})})]})]})},q=()=>e.jsx(g,{block:"shopping-cart",children:e.jsx(y,{})});export{q as default};
