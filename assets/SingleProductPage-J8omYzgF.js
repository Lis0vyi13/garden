import{j as e,f as C,h as P,r as x,p as y}from"./index-sWarJT3u.js";import{P as E}from"./PageWrapper-CJqMoTTp.js";import{B as S}from"./Button-C6Rzkebl.js";import{u as I}from"./useActions-CkrTVWFs.js";const A=({value:u,setValue:r})=>{const m=()=>{r(l=>Math.max(+l-1,1))},a=()=>{r(l=>Math.min(Math.max(+l+1,1),100))},n=l=>{let t=parseInt(l.target.value);t<1?t="":t>100&&(t=100),r(t)};return e.jsxs("section",{className:"counter flex justify-between border border-divider h-16",children:[e.jsx("button",{onClick:m,className:"subtract flex justify-center items-center border h-full w-[58px] text-[42px] text-gray border-divider hover:bg-lightGray duration-300",children:"-"}),e.jsx("input",{value:u,className:"h-full w-full lg:w-[112px] outline-none text-[18px] border border-divider text-center",placeholder:"1",onChange:n,type:"number",min:1,max:100}),e.jsx("button",{onClick:a,className:"sum flex justify-center items-center border h-full w-[58px] text-[42px] text-gray border-divider hover:bg-lightGray duration-300",children:"+"})]})},G=()=>{var p;const r=C(o=>o.cartAmount),{toggleCart:m}=I(),{id:a}=P(),[n,l]=x.useState(!1),[t,g]=x.useState(1),[f,j]=x.useState([]);x.useEffect(()=>{const o=y.filter(w=>w.id===+a);j(...o)},[a]);const{name:c,img:b,price:i,discount:d,description:s}=f,h=(p=r==null?void 0:r.arr)==null?void 0:p.some(o=>o.id===+a),N=n?s:(s==null?void 0:s.length)>965?(s==null?void 0:s.slice(0,962))+"...":s,v=d?Math.round(i-i*d):i;return e.jsx("section",{className:`${c==null?void 0:c.toLowerCase()}`,children:e.jsxs("div",{className:"flex flex-col items-center sm:items-start sm:flex-row gap-6 sm:gap-10",children:[e.jsx("div",{className:"product-img sm:w-1/2",children:e.jsx("img",{style:{width:"100%",height:"calc(100% - 10px)",objectFit:"cover"},className:"max-w-[445px] sm:max-w-full",src:b,alt:c})}),e.jsxs("div",{className:"product-content flex flex-col gap-4 sm:w-1/2",children:[e.jsx("div",{className:"flex flex-col",children:e.jsx("h1",{className:"font-bold text-2xl md:text-2xl lg:text-3xl",children:c})}),e.jsxs("div",{className:"flex items-center gap-7",children:[e.jsxs("h2",{className:"font-bold text-[30px] lg:text-[42px] pt-1",children:["$",v]}),d&&e.jsxs("h4",{className:"relative text-[20px] lg:text-[32px] text-gray line-through mt-5",children:["$",i,e.jsx("div",{className:"absolute font-semibold text-[16px] p-1 px-2 rounded-md bg-green text-white right-[-70px] top-[-10px]",children:`-${d*100}%`})]})]}),e.jsxs("div",{className:"flex gap-4 flex-col lg:flex-row lg:justify-between lg:items-center",children:[e.jsx("div",{className:"w-full lg:w-fit",children:e.jsx(A,{value:t,setValue:g})}),e.jsx(S,{text:h?"Added":"Add to cart",onClick:()=>{m({id:+a,amount:t})},extraClassName:`w-full lg:w-3/5 text-[18px] text-white ${h?"bg-black hover:bg-hoverGray":"bg-green hover:bg-hoverGreen"}`})]}),e.jsxs("div",{className:"product-description mt-2",children:[e.jsx("h5",{className:"font-semibold text-[20px]",children:"Description"}),e.jsx("h4",{className:"mt-2",children:N})]}),e.jsx("span",{onClick:()=>l(o=>!o),className:"underline w-fit duration-300 hover:text-green font-semibold cursor-pointer",children:n?"Read less":"Read more"})]})]})})},_=()=>e.jsx(E,{block:"single-product",children:e.jsx(G,{})});export{_ as default};
